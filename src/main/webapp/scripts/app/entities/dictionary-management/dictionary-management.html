<div class="tab-content-pad dictionary">
    <div class="row m-b20">
        <div class="col-sm-6">
            <button class="btn btn-primary" ng-click="dictionaryManagementController.createDictionary()">
                <i class="fa fa-plus" aria-hidden="true"></i>
                <span class="m-l5">Create new Dictionary</span>
            </button>
        </div>
        <div class="col-sm-6 text-right">
            <div class="search-field m-t5">
                <i class="fa fa-search"></i>
                <input type="search" class="uui-search" placeholder="Search" id="searchDictionary"
                       ng-change="dictionaryManagementController.searchDictionary()"
                       ng-model="dictionaryManagementController.searchText">
            </div>
        </div>
    </div>
    <div ng-if="dictionaryManagementController.dictionary" class="panel panel-info edit-form animated" style="margin-top: 20px">
        <div class="panel-heading">
            Create/Edit Dictionary
        </div>
        <div class="panel-body ">
            <form id="editForm" name="editForm" role="form" novalidate ng-submit="dictionaryManagementController.saveDictionary()" autocomplete="off">
                <div class="row">
                    <div class="col-xs-6">
                        <indigo-input
                                indigo-label="Name"
                                indigo-name="name"
                                indigo-type="text"
                                indigo-model="dictionaryManagementController.dictionary.name"
                                indigo-validation-required="true"
                                indigo-validation-maxlength="200"
                                indigo-label-vertical="true">
                        </indigo-input>
                    </div>
                    <div class="col-xs-6">
                        <indigo-text-area
                                indigo-label="Description"
                                indigo-model="dictionaryManagementController.dictionary.description"
                                indigo-label-vertical="true">
                        </indigo-text-area>
                    </div>
                </div>
            </form>
        </div>
        <div class="panel-footer text-right">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="dictionaryManagementController.clearDictionary()">
                <i class="fa fa-ban"></i><span class="m-l5">Cancel</span>
            </button>
            <button type="submit" form="editForm" ng-disabled="editForm.$invalid || dictionaryManagementController.isSaving" class="btn btn-primary m-l5">
                <i class="fa fa-save"></i><span class="m-l5">Save</span>
            </button>
        </div>
    </div>
    <div class="table-responsive" style="min-height: 273px" indigo-scroller="x">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Created By</th>
                <th>Creation Date</th>
                <th>Last Edit Date</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="dictionary in dictionaryManagementController.dictionaries track by $index" title="{{dictionaryManagementController.dictionary.description}}"
                ng-click="dictionaryManagementController.setSelected(dictionary.id)"
                ng-class="{'success': dictionary.id === dictionaryManagementController.selectedDictionaryId}">
                <td class="dictionary-col-width dictionary-col-elipsis" ng-bind="dictionary.name"></td>
                <td class="dictionary-col-width dictionary-col-elipsis" ng-bind="dictionary.description"></td>
                <td ng-bind="dictionary.author.login"></td>
                <td ng-bind="dictionary.creationDate | date:'MMM DD, YYYY HH:mm:ss z'"></td>
                <td ng-bind="dictionary.lastEditDate | date:'MMM DD, YYYY HH:mm:ss z'"></td>
                <td>
                    <button type="submit"
                            ng-click="dictionaryManagementController.editDictionary(dictionary)"
                            class="btn btn-info btn-small">
                        <i class="fa fa-pencil"></i>
                        <span class="m-l5">Edit</span>
                    </button>
                    <button type="submit"
                            ui-sref="entities.dictionary-management.delete({id:dictionary.id})"
                            class="btn btn-info btn-small m-l5">
                        <span class="glyphicon glyphicon-trash"></span>&nbsp;<span> Delete</span>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="text-center">
        <uib-pagination class="pagination-sm" total-items="dictionaryManagementController.totalItems"
                        items-per-page="dictionaryManagementController.itemsPerPage"
                        ng-model="dictionaryManagementController.page"
                        ng-change="dictionaryManagementController.loadAllDictionaries()">
        </uib-pagination>
    </div>

    <div class="panel panel-info panel-info-collapse words">
        <div class="panel-heading">
            <em class="pull-right glyphicon"
                ng-class="{'glyphicon-chevron-down': !dictionaryManagementController.isCollapsed, 'glyphicon-chevron-up': dictionaryManagementController.isCollapsed}"
                ng-click="dictionaryManagementController.isCollapsed = !dictionaryManagementController.isCollapsed"></em>
            Words
        </div>

        <div class="panel-body" uib-collapse="dictionaryManagementController.isCollapsed">
            <div class="m-b20">
                <button class="btn btn-primary"
                        ng-click="dictionaryManagementController.addWord()"
                        ng-disabled="dictionaryManagementController.selectedDictionaryId == null">
                    <i class="fa fa-plus" aria-hidden="true"></i>
                    <span class="m-l5">Add new Word</span>
                </button>
            </div>

            <div ng-if="dictionaryManagementController.word" class="panel panel-info edit-form animated">
                <div class="panel-heading">
                    Create/Edit Word for dictionary {{dictionaryManagementController.selectedDictionary.name}}
                </div>
                <div class="panel-body ">
                    <form id="editWordForm" name="editWordForm" role="form" novalidate ng-submit="dictionaryManagementController.saveWord()" autocomplete="off">
                        <div class="row m-b10">
                            <div class="col-xs-6">
                                <indigo-input
                                        indigo-label="Name"
                                        indigo-name="name"
                                        indigo-type="text"
                                        indigo-model="dictionaryManagementController.word.name"
                                        indigo-validation-required="true"
                                        indigo-validation-maxlength="200"
                                        indigo-label-vertical="true">
                                </indigo-input>
                            </div>
                            <div class="col-xs-6">
                                <indigo-text-area
                                        indigo-label="Description"
                                        indigo-model="dictionaryManagementController.word.description"
                                        indigo-label-vertical="true">
                                </indigo-text-area>
                            </div>
                        </div>
                        <indigo-checkbox
                                indigo-label="Active"
                                indigo-model="dictionaryManagementController.word.enable">
                        </indigo-checkbox>
                    </form>
                </div>
                <div class="panel-footer text-right">
                    <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="dictionaryManagementController.clearWord()">
                        <i class="fa fa-ban"></i><span class="m-l5">Cancel</span>
                    </button>
                    <button type="submit" form="editWordForm" ng-disabled="editWordForm.$invalid || dictionaryManagementController.isWordSaving" class="btn btn-primary m-l5">
                        <i class="fa fa-save"></i><span class="m-l5">Save</span>
                    </button>
                </div>
            </div>
            <div class="table-responsive" indigo-scroller="x">
                <table class="table table-striped nomarg">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Status</th>
                        <th>Rank</th>
                        <th>Creation Date</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tbody dragula='"dragableWords"' dragula-model="dictionaryManagementController.selectedDictionary.words">
                    <tr ng-repeat="word in dictionaryManagementController.selectedDictionary.words track by $index" style="cursor: move;"
                        title="{{word.description}}">
                        <td class="dictionary-col-width dictionary-col-elipsis" ng-bind="word.name"></td>
                        <td class="dictionary-col-width dictionary-col-elipsis" ng-bind="word.description"></td>
                        <td>
                            <em ng-class="{'glyphicon glyphicon-ok': word.enable, 'glyphicon glyphicon-remove': !word.enable}"></em>
                        </td>
                        <td ng-bind="word.rank"></td>
                        <td ng-bind="word.creationDate | date:'MMM DD, YYYY HH:mm:ss z'"></td>
                        <td>
                            <button type="submit"
                                    ng-click="dictionaryManagementController.editWord(word)"
                                    class="btn btn-info btn-small">
                                <span class="glyphicon glyphicon-pencil"></span>&nbsp;<span> Edit</span>
                            </button>
                            <button type="submit"
                                    ng-click="dictionaryManagementController.deleteWord(word)"
                                    class="btn btn-info btn-small m-l5">
                                <span class="glyphicon glyphicon-trash"></span>&nbsp;<span> Delete</span>
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>