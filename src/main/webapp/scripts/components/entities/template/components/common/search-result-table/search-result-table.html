<div class="search-result-table" id="my-reagent-list-table">
    <div class="search-table-head search-table-row">
        <div class="t-item t-head"></div>
        <div class="t-item t-head"></div>
        <div class="t-item t-head">Mol. Wt.</div>
        <div class="t-item t-head">Molecular Formula</div>
        <div class="t-item t-head">Chemical Name</div>
        <div class="t-item t-head">Compound ID</div>
    </div>
    <div class="search-table-body">
        <div ng-repeat="item in indigoTableContent | filter : indigoTableFilter track by $index" class="search-table-wrap">
            <div class="search-table-row" ng-class="{'search-table-row-highlight':item.$$isSelected}"  ng-click="item.$$isCollapsed = !item.$$isCollapsed">
                <a class="t-item">
                    <span ng-class="{'fa fa-angle-right':item.$$isCollapsed,
                              'fa fa-angle-down':!item.$$isCollapsed}">
                    </span>
                </a>
                <div class="t-item">
                    <indigo-checkbox ng-if="!indigoSingleItemPerTab" ng-click="$event.stopPropagation()" class="checkbox-inline" indigo-model="item.$$isSelected"></indigo-checkbox>
                    <indigo-checkbox ng-if="indigoSingleItemPerTab" ng-click="$event.stopPropagation()" class="checkbox-inline" indigo-change="selectSingleItemtPerTab(indigoTab, item, $parent.$index, $index, !item.$$isSelected)" indigo-model="item.$$isSelected"></indigo-checkbox>
                </div>
                <div class="t-item">{{item.molWeight.value | round}}</div>
                <div class="t-item">{{item.formula}}</div>
                <div class="t-item">{{item.chemicalName}}</div>
                <div class="t-item">{{item.compoundId}}</div>
                <div class="search-table-popup" ng-if="item.structure.image && item.$$isCollapsed">
                    <img uib-popover-html="item.$$popoverTemplate" class="search-table-img" popover-title="{{item.fullNbkBatch}}" popover-trigger="mouseenter" popover-placement="left" ng-src="data:image/svg+xml;base64,{{item.structure.image}}" alt="Image is unavailable.">
                </div>
            </div>
            <div uib-collapse="item.$$isCollapsed" class="search-table-row-details">
                <div class="row" ng-if="!item.$$isCollapsed">
                    <div class="col-xs-6">
                        <div class="m-b20">
                            <span class="semi-b">Reagent Information</span>
                            <button class="btn btn-default btn-small m-l5" type="button" ng-if="indigoEditableInfo"
                                    ng-click="editInfo(item)" ng-disabled="isEditMode">
                                <span class="fa fa-pencil"></span><span class="m-l5">Edit</span>
                            </button>
                        </div>
                        <div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">Compound ID:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-readonly="true" indigo-model="item.compoundId"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.compoundId}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">Batch Number:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-readonly="true" indigo-model="item.fullNbkBatch"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.fullNbkBatch}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">Molecular Formula:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-readonly="true" indigo-model="item.formula"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.formula}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">Molecular Weight:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-readonly="true" indigo-model="item.molWeight.value | round"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.molWeight.value | round}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">
                                        Reagent Type:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-select ng-if="isEditMode" indigo-items="rxnValues" indigo-model="item.rxnRole"></indigo-select>
                                    <p ng-if="!isEditMode">{{item.rxnRole.name}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">
                                        Chemical Name:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-model="item.chemicalName"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.chemicalName}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">
                                        Salt Code:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-select ng-if="isEditMode" indigo-items="saltCodeValues" indigo-change="recalculateSalt(item)" indigo-model="item.saltCode"></indigo-select>
                                    <p ng-if="!isEditMode">{{item.saltCode.name}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">
                                        Salt EQ:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-type="number" indigo-change="recalculateSalt(item)" indigo-model="item.saltEq.value"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.saltEq.value}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">
                                        External #:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-model="item.externalNumber"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.externalNumber}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">
                                        Compound State:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-select ng-if="isEditMode" indigo-dictionary="Compound State" indigo-model="item.compoundState"></indigo-select>
                                    <p ng-if="!isEditMode">{{item.compoundState.name}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">
                                        Batch Comment:</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-model="item.comments"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.comments}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <label class="control-label">
                                        Batch&nbsp;Hazard&nbsp;Comment</label>
                                </div>
                                <div class="col-xs-6" ng-class="{'info-col':!isEditMode}">
                                    <indigo-input ng-if="isEditMode" indigo-model="item.hazardComments"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.hazardComments}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-6">
                                    <label class="control-label">CAS Number:
                                    </label>
                                </div>
                                <div class="col-xs-6">
                                    <indigo-input ng-if="isEditMode" indigo-model="item.casNumber"></indigo-input>
                                    <p ng-if="!isEditMode">{{item.casNumber}}</p>
                                </div>
                            </div>
                            <div class="btn-group" ng-if="isEditMode">
                                <button class="btn btn-primary" type="button" ng-click="finishEdit()"
                                        ng-disabled="false"><span class="fa fa-save"></span><span class="m-l5">Save</span>
                                </button>
                                <button class="btn btn-default" type="button" ng-click="cancelEdit($index)"
                                        ng-disabled="false"><span class="fa fa-ban"></span><span class="m-l5">Cancel</span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-6">
                        <span class="semi-b">Structure</span>
                        <div>
                            <img class="img-responsive search-result-table__img-structure" ng-if="item.structure.image" ng-src="data:image/svg+xml;base64,{{item.structure.image}}" alt="Image is unavailable.">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
